FROM node:21-alpine3.18 as build

ARG VITE_SUPABASE_URL
ARG VITE_SUPABASE_ANON_KEY

ENV VITE_SUPABASE_URL=${VITE_SUPABASE_URL}
ENV VITE_SUPABASE_ANON_KEY=${VITE_SUPABASE_ANON_KEY}

WORKDIR /frontend
COPY package.json .
RUN npm install
COPY . .
EXPOSE 5175
CMD ["npm", "start"]